<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:head>
        <title>ChessClan</title>
    </h:head>
    <h:body>
        <h:panelGroup layout="block" class="content">
            <ui:include src="../pages/header.xhtml"/>

            <h:panelGroup layout="block" class="elements">
                <h1> Tablica ogłoszeń</h1>
                <c:forEach items="#{pvBean.posts}" var="post" rendered="#{pvBean.selectedPost == null}">
                <h:panelGroup class="group" layout="block" rendered="#{not empty pvBean.posts}" style="border: 1px solid #363636; margin: 2px; padding: 4px; background-color: #fff; color:#000; opacity:0.7; width: 300px; height: 200px; float: left; overflow: hidden;">
                    <h:outputText value="#{post.title}" style="display: block; width: 100%; text-align:center; font: bold 16px Helvetica, Arial, sans-serif;"/>
                    <h:outputText value="Dodał: #{post.user.login}" style="display: block; width: 50%; float: left; font: 12px Helvetica, Arial, sans-serif;"/>
                    <h:outputText value="Opublikowano: #{post.datePublished}" style="display: block; width: 50%; float: right; text-align: right; font: 12px Helvetica, Arial, sans-serif;"/>
                    <h:outputText value="Opis: #{post.content}"     style="display: block; width: 100%; font: 12px Helvetica, Arial, sans-serif;"/>
                </h:panelGroup>              
            </c:forEach>
<!--            
            <h:panelGroup class="group" layout="block" rendered="#{pvBean.selectedPost == null}" style="border: 1px solid #363636; margin: 2px; padding: 4px; background-color: #fff; color:#000; opacity:0.7; width: 100%; height: 25px; float: left; overflow: hidden;">
                <h:commandLink value="remove"> rendered=""
                     <f:ajax execute="@form" render="@form" listener="#{pdBean.deletePost(post)}"/>
                </h:commandLink>
                <h:commandLink value="cancel"> rendered="#{pdBean.editable[post.id]}" 
                    <f:ajax execute="@form" render="@form" listener="#{pdBean.deselectOneEditable(post.id)}"/>
                </h:commandLink>
            </h:panelGroup>     
                -->
                
                        <h:panelGroup layout="block" rendered="#{empty pvBean.posts and pvBean.selectedPost == null}">
                    <h:panelGroup layout="block" class="ui-state-highlight ui-corner-all">
                        <p><span class="ui-icon ui-icon-info" style="float: left; margin-right: .3em;"></span>
                            <strong>Niestety!</strong> Nie ma żadnych ogłoszeń zarejestrowanych w systemie.</p>
                    </h:panelGroup>
                </h:panelGroup>
                <h:panelGroup layout="block" rendered="#{pvBean.selectedPost !=null}">
                        <h:outputText value="#{pvBean.selectedPost.title}"/>
                        <h:outputText value="Autor: #{pvBean.selectedPost.user}"/>
                        <h:outputText value="Zawartość: #{pvBean.selectedPost.content}"/>
                        <h:outputText value="Kiedy opublikowano #{pvBean.selectedPost.datePublished}"/>
                </h:panelGroup>
            </h:panelGroup>
        </h:panelGroup>
    </h:body>
</html>

